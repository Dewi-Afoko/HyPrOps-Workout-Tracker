commands:
  00-create-staging-dir:
    command: "mkdir -p /var/app/staging/ && chmod -R 777 /var/app/staging/"
  01-copy-app-files:
    command: "cp -r /var/app/current/* /var/app/staging/"
  02-force-copy-requirements:
    command: "cp /var/app/current/requirements.txt /var/app/staging/ || touch /var/app/staging/MISSING_REQUIREMENTS"
  03-create-venv:
    command: "/usr/bin/python3.12 -m venv /var/app/venv"
  04-fix-permissions:
    command: "chown -R webapp:webapp /var/app/venv"
  05-activate-venv:
    command: "source /var/app/venv/bin/activate"
  06-upgrade-pip:
    command: "/var/app/venv/bin/pip install --upgrade pip"
  07-install-requirements:
    command: "/var/app/venv/bin/pip install -r /var/app/staging/requirements.txt || echo 'FAILED TO INSTALL DEPENDENCIES'"
